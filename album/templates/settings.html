{% extends 'base.html' %}

{% block content %}
<form method="post" class="mx-1 mx-md-4 mt-4 mb-4" autocomplete="off" enctype=multipart/form-data>

  <!-- FirstName input -->
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">
        <div class="card" style="border-radius: 0;border-top-left-radius: .5rem; border-top-right-radius: .5rem">
          <div class="card-body">
            <div class="row align-items-center">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0">First Name</h6>
              </div>

              <div class="col-md-9 pe-5">
                {{ form.fname(class="form-control", id="fname", value=current_user.fname) }}
                {% if form.fname.errors %}
                {% for error in form.fname.errors %}
                <div class="text-danger ms-2">{{error}}</div>
                {% endfor %}
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- LastName input -->
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">
        <div class="card" style="border-radius: 0">
          <div class="card-body">
            <div class="row align-items-center ">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0">Last Name</h6>
              </div>
              <div class="col-md-9 pe-5">
                {{ form.lname(class="form-control", id="lname", value=current_user.lname) }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Email input -->
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">
        <div class="card" style="border-radius: 0">
          <div class="card-body">
            <div class="row align-items-center ">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0">Email</h6>
              </div>
              <div class="col-md-9 pe-5">
                <input type="text" disabled class="form-control form-control-lg" placeholder="{{current_user.email}}" />
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Bio input -->
  <div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">
        <div class="card" style="border-radius: 0">
          <div class="card-body">
            <div class="row align-items-center ">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0">Bio</h6>
              </div>
              <div class="col-md-9 pe-5">
                  {% set _ = form.bio.process_data(current_user.bio) %}
                  {{ form.bio(style="width:100%;", class="form-control form-control-lg") }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">
        <div class="card" style="border-radius: 0">
          <div class="card-body">
            <div class="row align-items-center ">
              <div class="col-md-3 ps-5">
                <h6 class="mb-0">Profile avatar</h6>
              </div>
              <div class="col-md-9 pe-5">
                  {% set _ = form.bio.process_data(current_user.bio) %}
                  {{ form.photo(style="width:100%;", class="form-control form-control-lg") }}
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
    {#    <div class="ml-auto"><button type="submit" class="btn btn-primary">Update</button></div>#}
<div class="container h-100">
    <div class="row d-flex justify-content-center align-items-center h-100">
      <div class="col-xl-9">
        <div class="card" style="border-radius: 0;border-bottom-left-radius: .5rem; border-bottom-right-radius: .5rem">
          <div class="card-body">
           <div class="d-flex">
               <div style="margin-left: auto">
                   <button class="btn btn-primary">Update</button>
               </div>
           </div>
          </div>
        </div>
      </div>
    </div>
  </div>


</form>
{% endblock %}


{% block sidebar %}

<div class="card testimonial-card h-100">
  <div class="card-up" style="background-color: #9D789B;"></div>
  <div class="avatar mx-auto bg-white">
    <img height="250px" width="250px" src="{{profile_pic_path}}" class="rounded-circle" />
    <div class="card-body">
      <h4 style="text-align: center" class="mb-4">{{current_user.fname+" "+current_user.lname}}</h4>
      <hr />
      <p class="dark-grey-text mt-4">
        <i class="fas fa-quote-left pe-2"></i><b>{{current_user.bio}}</b>
      </p>
    </div>
  </div>

  {% endblock%}